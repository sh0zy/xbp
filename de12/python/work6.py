#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
今日の気分で食べたいご飯を見つけるプログラム 
- メニュー＆カテゴリ追加
- 食材リスト表示
- クックパッドリンク自動生成
"""

import random
import urllib.parse
import os

# 🌟 カテゴリ別メニューと食材
MOOD_MAP = {
    "1": {"label": "元気！がっつり食べたい", "meals": {
        "カツ丼": ["豚ロース", "卵", "玉ねぎ", "だし", "ご飯"],
        "ハンバーグ定食": ["合挽き肉", "玉ねぎ", "パン粉", "卵", "デミグラスソース"],
        "唐揚げ定食": ["鶏もも肉", "醤油", "にんにく", "片栗粉"],
        "ステーキ": ["牛肉", "塩コショウ", "にんにく", "バター"],
        "豚キムチ炒め": ["豚肉", "キムチ", "もやし", "ごま油"],
        "チキン南蛮": ["鶏むね肉", "卵", "小麦粉", "タルタルソース"],
        "生姜焼き": ["豚ロース", "生姜", "醤油", "みりん"],
        "焼肉丼": ["牛肉", "焼肉のタレ", "ご飯"],
        "オムライス": ["卵", "ケチャップ", "鶏肉", "玉ねぎ", "ご飯"],
        "とんかつ": ["豚ロース", "パン粉", "小麦粉", "卵", "キャベツ"]
    }},
    "2": {"label": "疲れてる…簡単に済ませたい", "meals": {
        "おにぎりと味噌汁": ["ご飯", "味噌", "豆腐", "わかめ"],
        "卵かけご飯": ["ご飯", "卵", "醤油"],
        "納豆ご飯": ["ご飯", "納豆"],
        "カップラーメン＋サラダ": ["カップラーメン", "サラダ"],
        "トーストとコーヒー": ["食パン", "バター", "コーヒー"],
        "冷やしうどん": ["うどん", "めんつゆ", "ねぎ"],
        "カレー（レトルト）": ["レトルトカレー", "ご飯"],
        "コンビニ弁当": ["弁当", "お茶"],
        "お茶漬け": ["ご飯", "お茶漬けの素"],
        "焼きそばパン": ["焼きそば", "コッペパン"]
    }},
    "3": {"label": "ヘルシー／さっぱりしたもの", "meals": {
        "豆腐ステーキ": ["木綿豆腐", "片栗粉", "醤油", "みりん"],
        "野菜スープ": ["キャベツ", "にんじん", "玉ねぎ", "コンソメ"],
        "サラダチキン": ["鶏むね肉", "塩", "オリーブオイル"],
        "冷しゃぶサラダ": ["豚しゃぶ肉", "レタス", "ごまドレッシング"],
        "海藻サラダ": ["海藻ミックス", "トマト", "きゅうり"],
        "豆腐ハンバーグ": ["豆腐", "鶏ひき肉", "しょうが"],
        "雑炊": ["ご飯", "卵", "ねぎ", "だし"],
        "鶏むね肉のソテー": ["鶏むね肉", "塩コショウ", "オリーブオイル"],
        "グリル野菜": ["パプリカ", "ズッキーニ", "なす", "オリーブオイル"],
        "温野菜サラダ": ["ブロッコリー", "にんじん", "じゃがいも"]
    }},
    "4": {"label": "甘いものが食べたいスイーツ気分", "meals": {
        "パンケーキ": ["ホットケーキミックス", "卵", "牛乳", "バター"],
        "プリン": ["卵", "牛乳", "砂糖", "カラメル"],
        "フレンチトースト": ["食パン", "卵", "牛乳", "砂糖"],
        "チーズケーキ": ["クリームチーズ", "卵", "砂糖", "生クリーム"],
        "クッキー": ["小麦粉", "バター", "砂糖", "卵"],
        "抹茶パフェ": ["抹茶アイス", "あんこ", "白玉"],
        "シュークリーム": ["小麦粉", "卵", "生クリーム"],
        "ガトーショコラ": ["チョコレート", "バター", "卵", "小麦粉"],
        "アップルパイ": ["りんご", "パイシート", "砂糖"],
        "どら焼き": ["小麦粉", "卵", "あんこ"]
    }},
    "5": {"label": "節約で安く済ませたい", "meals": {
        "焼きそば": ["中華麺", "キャベツ", "豚肉", "ソース"],
        "チャーハン": ["ご飯", "卵", "ねぎ", "醤油"],
        "うどん": ["うどん", "めんつゆ", "ねぎ"],
        "親子丼": ["鶏肉", "卵", "玉ねぎ"],
        "カレーライス": ["カレールー", "じゃがいも", "にんじん", "玉ねぎ"],
        "冷やし中華": ["中華麺", "きゅうり", "ハム", "卵"],
        "そば": ["そば", "めんつゆ", "わさび"],
        "焼き飯": ["ご飯", "卵", "チャーシュー"],
        "雑炊": ["ご飯", "卵", "ねぎ"],
        "お好み焼き": ["キャベツ", "小麦粉", "卵", "ソース"]
    }},
    "6": {"label": "ちょっと贅沢・お祝いしたい", "meals": {
        "寿司盛り合わせ": ["まぐろ", "サーモン", "いくら", "酢飯"],
        "ローストビーフ": ["牛もも肉", "塩", "こしょう", "オーブン"],
        "シーフードパエリア": ["米", "エビ", "ムール貝", "トマト"],
        "ステーキディナー": ["牛ヒレ肉", "赤ワイン", "バター"],
        "天ぷら盛り合わせ": ["えび", "なす", "かぼちゃ", "天ぷら粉"],
        "しゃぶしゃぶ": ["牛肉", "白菜", "豆腐", "だし"],
        "うな重": ["うなぎ", "ご飯", "たれ"],
        "すき焼き": ["牛肉", "しらたき", "豆腐", "長ねぎ"],
        "カルボナーラ": ["パスタ", "卵", "ベーコン", "チーズ"],
        "ロブスターグリル": ["ロブスター", "バター", "レモン"]
    }},
}

def show_header():
    print("="*55)
    print(" 今日の気分で食べたいご飯を見つけるプログラム ")
    print("="*55)

def print_mood_options():
    for key, v in MOOD_MAP.items():
        print(f"{key}. {v['label']}")
    print("0. 終了")

def main():
    while True:
        show_header()
        print_mood_options()
        mood = input("\n今日の気分の番号を選んでください: ").strip()
        if mood == "0":
            print("また使ってくださいね！")
            break
        if mood not in MOOD_MAP:
            print("番号が無効です。もう一度。")
            continue

        meals = MOOD_MAP[mood]["meals"]
        meal_name = random.choice(list(meals.keys()))
        ingredients = meals[meal_name]

        print("\nおすすめメニュー:", meal_name)
        print("必要な材料:", ", ".join(ingredients))

        # クックパッドリンク生成
        encoded = urllib.parse.quote(meal_name)
        url = f"https://cookpad.com/search/{encoded}"
        print(f"レシピを見る: {url}")

        again = input("\n別のおすすめを見る？ y/N: ").strip().lower()
        if again != "y":
            break
        os.system('cls' if os.name == 'nt' else 'clear')

if __name__ == "__main__":
    main()
